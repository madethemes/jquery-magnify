/*! Made Magnify - v0.1.0 - 2013-08-06
* https://github.com/madethemes/jquery-magnify
* Copyright (c) 2013 Made Themes; Licensed MIT */
!function(a){var b=a.madeMagnify={};b.defaultOptions={lensWidth:200,lensHeight:200},b.options=null,b.overrideOptions=function(c){b.options=a.extend({},b.defaultOptions,c)},b.validateElement=function(b){if(a(b).attr("src")){var c=new Image;c.src=a(b).attr("src");var d=c.width,e=c.height;return d>0&&e>0?!0:!1}return!1},b.buildHtml=function(c){var d=a(c).attr("width"),e=a(c).attr("height"),f=a(c).attr("src");return a(c).wrap('<div class="made-magnify-wrap" style="position:relative; width:'+d+"px; height:"+e+'px;"></div>').after('<div class="made-magnify-large" style="position:absolute; width:'+b.options.lensWidth+"px; height:"+b.options.lensHeight+"px; background: url("+f+') no-repeat; display:none;"></div>')},b.setLensPosition=function(b){var c=new Image;c.src=a(b).attr("src");var d=c.width,e=c.height,f=a(b).offset(),g=a(b).siblings(".made-magnify-large"),h=a(b).parent();h.mousemove(function(a){var b=a.pageX-f.left,c=a.pageY-f.top;if(b<h.width()&&c<h.height()&&b>0&&c>0?g.fadeIn(100):g.fadeOut(100),g.is(":visible")){var i=-1*Math.round(b/h.width()*d-g.width()/2),j=-1*Math.round(c/h.height()*e-g.height()/2),k=i+"px "+j+"px",l=b-g.width()/2,m=c-g.height()/2;g.css({left:l,top:m,backgroundPosition:k})}}),h.mouseleave(function(){g.fadeOut(100)})},a.fn.madeMagnify=function(a){return this.each(function(){b.validateElement(this)&&(b.overrideOptions(a),b.buildHtml(this),b.setLensPosition(this))})}}(jQuery);