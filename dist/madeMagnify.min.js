/*! Made Magnify - v0.1.0 - 2013-08-05
* https://github.com/madethemes/jquery-magnify
* Copyright (c) 2013 Made Themes; Licensed MIT */
!function(a){var b=a.madeMagnify={};b.defaultOptions={lensWidth:200,lensHeight:200},b.options=null,b.overrideOptions=function(c){b.options=a.extend({},b.defaultOptions,c)},b.validateElement=function(b){if(a(b).attr("src")){var c=new Image;c.src=a(b).attr("src");var d=c.width,e=c.height;return d>0&&e>0?!0:!1}return!1},b.buildHtml=function(c){var d=a(c).attr("width"),e=a(c).attr("height"),f=a(c).attr("src");return a(c).wrap('<div class="made-magnify-wrap" style="position:relative; width:'+d+"px; height:"+e+'px;"></div>').after('<div class="made-magnify-large" style="position:absolute; width:'+b.options.lensWidth+"px; height:"+b.options.lensHeight+"px; background: url("+f+') no-repeat;"></div>')},b.setLensPosition=function(b){a(b).mousemove(function(c){var d=a(b).offset(),e=c.pageX-d.left,f=c.pageY-d.top,g=a(this).siblings(".made-magnify-large"),h=new Image;h.src=a(b).attr("src");var i=h.width,j=h.height;if(e<a(this).width()&&f<a(this).height()&&e>0&&f>0?a(g).fadeIn(100):a(g).fadeOut(100),a(g).is(":visible")){var k=-1*Math.round(e/a(b).width()*i-a(g).width()/2),l=-1*Math.round(f/a(b).height()*j-a(g).height()/2),m=k+"px "+l+"px",n=e-a(g).width()/2,o=f-a(g).height()/2;a(g).css({left:n,top:o,backgroundPosition:m})}})},a.fn.madeMagnify=function(a){return this.each(function(){b.validateElement(this)&&(b.overrideOptions(a),b.buildHtml(this),b.setLensPosition(this))})}}(jQuery);