/*! Made Magnify - v0.1.0 - 2013-08-06
* https://github.com/madethemes/jquery-magnify
* Copyright (c) 2013 Made Themes; Licensed MIT */
!function(a){var b=a.madeMagnify={};b.defaultOptions={lensWidth:200,lensHeight:200},b.options=null,b.overrideOptions=function(c){b.options=a.extend({},b.defaultOptions,c)},b.validateElement=function(b){if(a(b).attr("src")){var c=new Image;c.src=a(b).attr("src");var d=c.width,e=c.height;return d>0&&e>0?!0:!1}return!1},b.buildHtml=function(c){var d=a(c).attr("width"),e=a(c).attr("height"),f=a(c).attr("src");return a(c).wrap('<div class="made-magnify-wrap" style="position:relative; width:'+d+"px; height:"+e+'px;"></div>').after('<div class="made-magnify-large" style="position:absolute; width:'+b.options.lensWidth+"px; height:"+b.options.lensHeight+"px; background: url("+f+') no-repeat; display:none;"></div>')},b.setLensPosition=function(b){var c=new Image,d=a(b).offset(),e=a(b).siblings(".made-magnify-large"),f=a(b).parent();c.src=a(b).attr("src");var g=c.width,h=c.height;f.mousemove(function(a){var b=a.pageX-d.left,c=a.pageY-d.top;if(b<f.width()&&c<f.height()&&b>0&&c>0?e.fadeIn(100):e.fadeOut(100),e.is(":visible")){var i=-1*Math.round(b/f.width()*g-e.width()/2),j=-1*Math.round(c/f.height()*h-e.height()/2),k=i+"px "+j+"px",l=b-e.width()/2,m=c-e.height()/2;e.css({left:l,top:m,backgroundPosition:k})}}),f.mouseenter(function(){f.css("z-index","1000")}),f.mouseleave(function(){e.fadeOut(100),f.css("z-index","")})},a.fn.madeMagnify=function(a){return this.each(function(){b.validateElement(this)&&(b.overrideOptions(a),b.buildHtml(this),b.setLensPosition(this))})}}(jQuery);